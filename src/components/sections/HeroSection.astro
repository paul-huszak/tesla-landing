---
import Section from "@/components/sections/Section.astro";
---

<Section
  color="white"
  title="Disfrute de Tesla"
  subtitle="Programe una prueba de conducción hoy mismo"
>
  <div slot="footer" class="max-sm:px-6 pb-12">
    <a
      class={`border-[3px] border-white bg-white/5 backdrop-blur-sm text-sm font-medium text-white rounded max-sm:w-full sm:px-12 py-2 inline-block hover:bg-white hover:text-black transition-colors`}
      href="#"
    >
      Prueba de conducción
    </a>
  </div>

  <video
    slot="background"
    class="object-center object-cover w-full h-full"
    autoplay
    muted
    loop
    playsinline
    id="bg-video-herosection"
  >
    <source src="/video.webm" type="video/webm" />
  </video>

  <script>
    function isMobile() {
      if (window.matchMedia("(max-width: 639px)").matches) {
        return true;
      } else {
        return false;
      }
    }

    let videoElement = document.querySelector(
      "#bg-video-herosection"
    ) as HTMLVideoElement; // TypeScript

    if (isMobile()) {
      videoElement.src = "video-mobile.mp4";
    } else {
      videoElement.src = "video.webm";
    }
  </script>
</Section>
